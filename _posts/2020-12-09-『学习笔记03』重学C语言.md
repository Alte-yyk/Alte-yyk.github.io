---
layout: post
title: 『学习笔记03』重学C语言
date: 2020-12-09
author: "Alte-yyk"
---



#  『学习笔记03』重学C语言

##  引言
以下博文均记于该视频，视频链接——>https://m.imooc.com/video/627,感兴趣的小伙伴建议自己去看一遍，总共也就俩小时，冲！

##  C语言
C语言就是人类为了和计算机交流而发明的一种语言，现在大都所取的标准是美国国家标准局所制定的ANSIC。（没办法，当时这方面，人家是老大哥。）

C语言的特点：简单快速高性能，兼容性好功能强大又易学。（好像说的都对，相对易学，哈哈哈。）

C语言适合做啥：我很喜欢视频中老师所说的，适合做小工具，我们可以把每一个功能，例如linux下的cd，该命令的意思是切换路径。该功能就是用C语言写出来的一个功能类，相信看到这里，你已经懂了🤪。
至于其他适合硬件编程，有高性能需求的应用程序什么的，自己去视频看，我也不太懂，尴尬ing

##  开发环境与配置
公欲善其事，必先利其器。而对于学习语言来说，开发环境是必须的！
### 环境 
安装一个linux操作系统，建议安装ubuntu。两种办法：一是安装一个虚拟机，在虚拟机中安装一个linux系统；一是安装双系统。具体操作，CSDN中有很多文章等着你看呢！冲，我这里就告诉这么些了，嘿嘿！

### 编辑器
神的编辑器：vim
sudo apt-get update		//更新
sudo apt-get install vim	//安装

### 基本命令
这是我第一个学习笔记，有一些linux的基本命令，可以看一下。
> https://editor.csdn.net/md/?articleId=110296532


##  多文件操作
个人理解，所谓的多文件操作就是你编写一个代码，可能会需要用到很多类函数，这时候呢，我们就可以把这些类函数单独写出来，每个类函数用一个文件来编写，这样就会有多个文件。
### 多个源文件分而治之
一个代码的运行往往需要很多头文件，其实<stdio.h>就是一个头文件，在Linux C中，我们可以自己定义头文件，例如你需要引用求最大值这个功能，就可以定义一个名为 max.c 的文件，其内容就是求最大值，里面不需要main函数。这里列个图。 
![在这里插入图片](https://img-blog.csdnimg.cn/20201211121349522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTEzNzc0,size_16,color_FFFFFF,t_70#pic_center)

### 头文件与函数定义分离
根据分治章，我们知道了我们可以自行定义头文件，但在这里，我们要不要直接引用max.c这个头文件，头文件也就是在main函数代码编译之前，先翻译的代码，如果你自行定义的头文件巨多，那你一个代码的编译过程也就会超长，这样效率问题就出现了。
为了解决这个问题，我们可以提前翻译我们的头文件，然后在编译执行代码时，只需要把有main函数的文件与翻译好的头文件连接即可。
上图

![在这里插入图片描述](https://img-blog.csdnimg.cn/20201211122841236.png#pic_center)

	gcc -c max.c -o max.o	//把max.c 翻译成名为 max.o 的文件，max.o文件是给计算机看的
	gcc max.o min.o hello.c	//编译hello.c时连接翻译好的max.c的文件和min.c文件

通常我们把：不会改动的函数、公共框架、公共类，翻译生成静态库。（公共框架，静态库啥的，想知道的百度，反正我现在是懵的🤪）

max.h和max.c和max.o三者的定义与区别

	max.h是一个用来注释性的文件，它的存在是为了告诉其他编程者我们这个main函数中调用了max这个函数。
	max.c是我们编写求最大值这个功能的源代码，给人看的。
	max.o是编译完成后的max.c，用来给计算机看的。

注意：编写max.h这类自定义头文件时，记得每句结尾加上结束符 “；”。（就因为这玩意，我用了五分钟找bug，还去百度，把我给气笑了...）
	


## makeFile的编写与使用
### Makefile(这是文件名，似乎一定要这样，先这样。)
Makefile一个文件，作用就是把之前编译的代码写在一起，然后一并执行。上图解释
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201211164705268.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTEzNzc0,size_16,color_FFFFFF,t_70#pic_center)

#在这个文件中是注释符号，就#后面的内容执行时会被忽略。
图片蓝色的hello.out		//项目执行文件
图片中白色的max.o		//目标文件
图片中紫色的语句			//编译语句

在终端输入make命令，便会自动执行Makefile文件。
执行顺序：从上往下，递归方式。

举例：

现在你没有max.o min.o hello.out文件，先是编译hello.out,在编译hello.out时，发现没有max.o，它便自动寻找编译max.o的语句，min.o也是如此，直到有了max.o和min.o文件，在编译hello.out文件。

如果你一开始就已经有了max.o和min.o，则不会运行下面两条语句了。
	


### make
make也是类似cd一类的小工具，它可以把一个大的开发项目分成很多个模块（分治？），可以很清晰快捷的整理源文件。


### 安装	
	make -v						//用来查看你当前ubuntu系统中的make版本
	sudo apt-get install make	//安装make

## main函数详解(这节强推看教程，很Nice！)
这里先上一段基本的代码
```
#include <stdio.h>
int main(int argv,char* argc[])
{
	printf("argv is %d .\n",argv);
	int i;
	for(i=0;i<argv;i++)
	{
		printf("argc[%d] is %s .\n",i,argc[i]);
	}
	return 0;
}
```
C语言是一门强大的语言，它是可以与计算机操作系统进行交互的。在一个main函数中，交互的手段就是return 和 argv 还有 argc[]。下面就简单描述一下它们的作用。

### return
return 0；返回一个0，即当你运行完这个代码后，它会返回一个值，而系统根据这个运算值，来判断该语句是否成功运行。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20201212111353295.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTEzNzc0,size_16,color_FFFFFF,t_70#pic_center)

	&&			//linux命令语句中的连接符，左边的语句运行成功后，才会运行右边的语句。
	echo $? 	//把返回码(错误码)输出到终端上	

### int argv 与 char* argc[]
argv 是一个整形值，值是你运行的那条命令中语句的个数。
argc[] 字符数组，每个数组保存的是你的命令。
这里结合上面那个图，就明了了。

## 输入输出流与错误流
linux把所有的外设都当作文件来处理，键盘、显示器、鼠标、打印机等等设备，对linux来说，都是文件。
### 标准的输入流输出流以及错误流
stdin:	标准的输入流，向外设读取数据，默认为键盘。
stdout:	标准的输出流，向外设输出数据，默认为显示器。
stderr:	错误流，要有返回值，且返回值不能等于0。（我认为是用来和操作系统交互的，哈哈哈，其实错误流也一般默认输出到显示器，就标准的输出流输出正确情况下的咯，错误流那不久输出错误情况下的咯。）

### 输入流输出流以及错误流的重定向
重定向：顾名思义，重新制定方向。举个例子，标准的输入流默认的为键盘，我们可以把输入的改成用txt文件来输入，这就是重定向。

重定向输入流：
	 
	a.out < b.txt	//	把标准输入流改为txt文件内容来输入

重定向输出流：
	
	a.out >> a.txt	// 把标准输出流改为输出到txt文件中，不会覆盖里面的内容。（适用日志，内容放在末尾。） 
	a.out >  a.txt	//把标准输出流改为输出到txt文件中，会覆盖里面内容。

重定向错误流

	a.out >> f.txt	/大致同上。
	a.out >  f.txt

重定向的作用：就可以把你输入输出错误分别开来，还能顺便记录下来。（写日记？正经人谁写日记啊？555，程序员不是正经人了...）

## 管道
管道就一个把独立的小工具连接起来的桥梁，非常流弊的一个玩意。举个🌰。

ls /etc/ | grep ab
这个命令我们分解以下，ls /etc/ 这个命令是把etc文件下的所有内容列出来，| 这个就是管道，（就很形象有木有？）grep是一个搜索命令，grep ab 就是搜索所有文件名中包含ab这个字符串的文件。所以整行命令的意思为，列出etc目录下所有包含ab字符串的文件， | 起连接作用。

## 打造自己的小工具
这个就是你自己写俩简单独立的函数功能，例如一个输入求和，一个输入求平均值，然后利用管道连接起来，你就可以又求和有算出平均值，类似如此作用。

## 总结
这个博客我至今为止写的最多一个博客了吧，记录我看这个两小时教程的所有体会与理解，重新认识一次C语言，也重新学到了一些新的东西，nice！！！

## 总体时间：2020-12-09 ——> 2020-12-12





